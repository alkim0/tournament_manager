{% extends "tmdb/base_tournament_dashboard.html" %}

{% block content %}
  <div id='match-table'> </div>

  <h1>{{tournament}}</h1>
    <table class="table table-striped">
      <thead>
        <tr>
          <th> Division </th>
          <th> Progress </th>
          <th> Teams </th>
          <th> Seedings </th>
          <th> Bracket </th>
        </tr>
      </thead>
      <tbody>
        {% for tournament_div in tournament_divisions %}
        <tr>
        <td>{{tournament_div}}</td>
        <td> Not started </td>
        <td> <a href="{% url 'tmdb:team_list' tournament_div.tournament.slug tournament_div.division.slug %}">Teams</a> </td>
        <td> <a href="{% url 'tmdb:division_seedings' tournament_div.tournament.slug tournament_div.division.slug %}">Create matches</a> </td>
        <td> <a href="{% url 'tmdb:bracket' tournament_div.tournament.slug tournament_div.division.slug %}">Bracket</a> </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  <hr/>
  <h3>Matches (based on divisions)</h3>
  {% include "tmdb/snippets/match_table_component.html" %}

  <hr/>
  {% include "tmdb/ring_table_component.html" %}
  <div class="match-table"> </div>

{% endblock %}

{% block script %}
{% load static %}
<script src="https://fb.me/react-15.0.0.js"></script>
<script src="https://fb.me/react-dom-15.0.0.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
<script type="text/babel" src="{% static 'js/src/index.jsx' %}"></script>
<script src="{% static 'js/match_websocket.js'%}"></script>
{% endblock %}
